# Проект 2. Телеграм бот.

## Оглавление
[1. Описание проекта](https://github.com/remezovmd/IDE/tree/main/project_2/README.md#Описание-проекта)\
[2. Какой кейс решаем?](https://github.com/remezovmd/IDE/tree/main/project_2/README.md#Какой-кейс-решаем)\
[3. Краткая информация о данных](https://github.com/remezovmd/IDE/tree/main/project_2/README.md#Краткая-информация-о-данных)\
[4. Этапы работы над проектом](https://github.com/remezovmd/IDE/tree/main/project_2/README.md#Этапы-работы-над-проектом)\
[5. Результат](https://github.com/remezovmd/IDE/tree/main/project_2/README.md#КРезультат)\
[6. Выводы](https://github.com/remezovmd/IDE/tree/main/project_2/README.md#Вывод)

### Описание проекта
Телеграм бот для рассчета цены на определенное количество валюты.

:arrow_up:[к оглавлению](https://github.com/remezovmd/IDE/tree/main/project_1/README.md#Оглавление)

### Какой кейс решаем?
Написать телеграм бот.

**Требуемый функционал:**
1. Бот возвращает цену на определённое количество валюты (евро, доллар или рубль).
2. При написании бота необходимо использовать библиотеку pytelegrambotapi.
3. Человек должен отправить сообщение боту в виде <имя валюты, цену которой он хочет узнать> <имя валюты, в которой надо узнать цену первой валюты> <количество первой валюты>.
4. При вводе команды /start или /help пользователю выводятся инструкции по применению бота.
5. При вводе команды /values должна выводиться информация о всех доступных валютах в читаемом виде.
6. Для получения курса валют необходимо использовать любое удобное API и отправлять к нему запросы с помощью библиотеки Requests.
7. Для парсинга полученных ответов использовать библиотеку JSON (в моем случае API ЦБ отдает данные в формате XML, по этому использую библиотеку lxml).
8. При ошибке пользователя (например, введена неправильная или несуществующая валюта или неправильно введено число) вызывать собственно написанное исключение APIException с текстом пояснения ошибки.
9. Текст любой ошибки с указанием типа ошибки должен отправляться пользователю в сообщения.
10. Для отправки запросов к API описать класс со статическим методом get_price(), который принимает три аргумента и возвращает нужную сумму в валюте:
- имя валюты, цену на которую надо узнать, — base;
- имя валюты, цену в которой надо узнать, — quote;
- количество переводимой валюты — amount.
11. Токен Telegram-бота хранить в специальном конфиге (можно использовать .py файл).
12. Все классы спрятать в файле extensions.py.

**Что практикуем**\
Учимся писать хороший код на python. Работа с библиотеками requests и lxml.

## Краткая информация о данных
http://www.cbr.ru/scripts/XML_daily.asp отдает данные в формате XML следующего вида:
```
<ValCurs Date="31.12.2025" name="Foreign Currency Market">
    <Valute ID="R01010">
        <NumCode>036</NumCode>
        <CharCode>AUD</CharCode>
        <Nominal>1</Nominal>
        <Name>Австралийский доллар</Name>
        <Value>52,4979</Value>
        <VunitRate>52,4979</VunitRate>
    </Valute>
    <Valute ID="R01020A">
        <NumCode>944</NumCode>
        <CharCode>AZN</CharCode>
        <Nominal>1</Nominal>
        <Name>Азербайджанский манат</Name>
        <Value>46,0157</Value>
        <VunitRate>46,0157</VunitRate>
    </Valute>
    <Valute ID="R01030">
        <NumCode>012</NumCode>
        <CharCode>DZD</CharCode>
        <Nominal>100</Nominal>
        <Name>Алжирских динаров</Name>
        <Value>60,4454</Value>
        <VunitRate>0,604454</VunitRate>
    </Valute>
    ....
```
:arrow_up:[к оглавлению](https://github.com/remezovmd/IDE/tree/main/project_1/README.md#Оглавление)